module.exports=[10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15219);function e(){let[a,e]=(0,c.useState)({name:"",capacity:"",image_url:""}),[f,g]=(0,c.useState)([]),h=async()=>{let{data:a}=await d.supabase.from("classrooms").select("*").order("id",{ascending:!0});a&&g(a)};(0,c.useEffect)(()=>{h()},[]);let i=b=>{e({...a,[b.target.name]:b.target.value})},j=async b=>{if(b.preventDefault(),!a.name||!a.capacity)return void alert("à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸ˆà¸¸à¸„à¸£à¸±à¸š");try{let{error:b}=await d.supabase.from("classrooms").insert([{name:a.name,capacity:parseInt(a.capacity),image_url:a.image_url||null,status:"available"}]);if(b)throw b;alert("âœ… à¹€à¸žà¸´à¹ˆà¸¡à¸«à¹‰à¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!"),e({name:"",capacity:"",image_url:""}),h()}catch(a){alert(`Error: ${a.message}`)}},k=async a=>{if(confirm("à¸¢à¸·à¸™à¸¢à¸±à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¸¥à¸šà¸«à¹‰à¸­à¸‡à¸™à¸µà¹‰? (à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ˆà¸­à¸‡à¸ˆà¸°à¸«à¸²à¸¢à¹„à¸›à¸”à¹‰à¸§à¸¢à¸™à¸°)"))try{await d.supabase.from("bookings").delete().eq("room_id",a);let{error:b}=await d.supabase.from("classrooms").delete().eq("id",a);if(b)throw b;alert("à¸¥à¸šà¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¸„à¸£à¸±à¸š ðŸ‘‹"),h()}catch(a){alert(`à¸¥à¸šà¹„à¸¡à¹ˆà¹„à¸”à¹‰: ${a.message}`)}};return(0,b.jsx)("main",{children:(0,b.jsxs)("div",{className:"container admin-container",children:[(0,b.jsx)("h1",{children:"ðŸ› ï¸ à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™ (Admin)"}),(0,b.jsxs)("section",{className:"admin-section",children:[(0,b.jsx)("h3",{children:"âž• à¹€à¸žà¸´à¹ˆà¸¡à¸«à¹‰à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ"}),(0,b.jsxs)("form",{className:"admin-form",onSubmit:j,children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™"}),(0,b.jsx)("input",{type:"text",name:"name",value:a.name,onChange:i,placeholder:"à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡..."})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"à¸„à¸§à¸²à¸¡à¸ˆà¸¸"}),(0,b.jsx)("input",{type:"number",name:"capacity",value:a.capacity,onChange:i,placeholder:"à¸ˆà¸³à¸™à¸§à¸™à¸„à¸™..."})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"à¸£à¸¹à¸›à¸ à¸²à¸ž (URL)"}),(0,b.jsx)("input",{type:"text",name:"image_url",value:a.image_url,onChange:i,placeholder:"https://..."})]}),(0,b.jsx)("button",{type:"submit",className:"btn-submit",children:"à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"})]})]}),(0,b.jsx)("hr",{className:"divider"}),(0,b.jsxs)("section",{className:"admin-section",children:[(0,b.jsxs)("h3",{children:["ðŸ“‹ à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (",f.length,")"]}),(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)("table",{className:"admin-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"ID"}),(0,b.jsx)("th",{children:"à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡"}),(0,b.jsx)("th",{children:"à¸„à¸§à¸²à¸¡à¸ˆà¸¸"}),(0,b.jsx)("th",{children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,b.jsx)("th",{children:"à¸ˆà¸±à¸”à¸à¸²à¸£"})]})}),(0,b.jsx)("tbody",{children:f.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.id}),(0,b.jsx)("td",{children:a.name}),(0,b.jsx)("td",{children:a.capacity}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"busy"===a.status?"text-red":"text-green",children:a.status})}),(0,b.jsx)("td",{children:(0,b.jsx)("button",{className:"btn-delete",onClick:()=>k(a.id),children:"à¸¥à¸š ðŸ—‘ï¸"})})]},a.id))})]})})]})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_admin_page_tsx_645532da._.js.map
module.exports=[49846,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15219);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),h=async()=>{try{let{data:a,error:b}=await d.supabase.from("classrooms").select("*").order("id",{ascending:!0});if(b)throw b;a&&e(a)}catch(a){console.error("Error:",a)}finally{g(!1)}};(0,c.useEffect)(()=>{h()},[]);let i=async a=>{let b=window.prompt(`à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡ "${a.name}"
à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡à¸„à¸¸à¸“:`);if(b)try{await d.supabase.from("bookings").insert([{room_id:a.id,student_name:b}]);let{error:c}=await d.supabase.from("classrooms").update({status:"busy",booked_by:b}).eq("id",a.id);if(c)throw c;alert("âœ… à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!"),h()}catch(a){alert(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${a.message}`)}},j=async a=>{if(confirm(`à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸„à¸·à¸™à¸«à¹‰à¸­à¸‡ ${a.name} à¹ƒà¸Šà¹ˆà¹„à¸«à¸¡?`))try{let{error:b}=await d.supabase.from("classrooms").update({status:"available",booked_by:null}).eq("id",a.id);if(b)throw b;alert("ðŸ‘Œ à¸„à¸·à¸™à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!"),h()}catch(a){alert(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${a.message}`)}};return(0,b.jsx)("main",{children:(0,b.jsxs)("div",{className:"container dashboard-container",children:[(0,b.jsxs)("header",{className:"dashboard-header",children:[(0,b.jsx)("h1",{children:"ðŸ« à¸£à¸²à¸¢à¸à¸²à¸£à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™"}),(0,b.jsx)("p",{children:"à¸£à¸°à¸šà¸šà¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™à¹à¸šà¸š Real-time"})]}),f?(0,b.jsx)("p",{className:"loading-text",children:"â³ à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥..."}):(0,b.jsx)("div",{className:"room-grid",children:a.map(a=>(0,b.jsxs)("div",{className:"room-card",children:[(0,b.jsxs)("div",{className:"room-image",children:[(0,b.jsx)("img",{src:a.image_url||"https://placehold.co/600x400?text=No+Image",alt:a.name}),(0,b.jsx)("span",{className:`status-badge ${a.status}`,children:"available"===a.status?"à¸§à¹ˆà¸²à¸‡":"à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸‡"})]}),(0,b.jsxs)("div",{className:"room-info",children:[(0,b.jsx)("h3",{children:a.name}),(0,b.jsxs)("p",{children:["ðŸ‘¥ à¸£à¸­à¸‡à¸£à¸±à¸š: ",a.capacity," à¸„à¸™"]}),"busy"===a.status&&a.booked_by&&(0,b.jsxs)("div",{className:"booker-info",children:["ðŸ”’ à¸ˆà¸­à¸‡à¹‚à¸”à¸¢: ",(0,b.jsx)("strong",{children:a.booked_by})]}),"available"===a.status?(0,b.jsx)("button",{className:"btn-book",onClick:()=>i(a),children:"à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¸™à¸µà¹‰ âœ…"}):(0,b.jsx)("button",{className:"btn-cancel",onClick:()=>j(a),children:"à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸ˆà¸­à¸‡ âŒ"})]})]},a.id))})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_dashboard_page_tsx_196c74b5._.js.map
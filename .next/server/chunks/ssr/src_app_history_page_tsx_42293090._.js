module.exports=[57038,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15219);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),h=async()=>{try{let{data:a,error:b}=await d.supabase.from("bookings").select("*, classrooms(name, image_url)").order("id",{ascending:!1});if(b)throw b;e(a||[])}catch(a){console.error("Error fetching history:",a)}finally{g(!1)}};return(0,c.useEffect)(()=>{h()},[]),(0,b.jsx)("main",{children:(0,b.jsxs)("div",{className:"container history-container",children:[(0,b.jsx)("h1",{children:"ðŸ“œ à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ˆà¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,b.jsx)("p",{children:"à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸°à¸šà¸š (à¹€à¸£à¸µà¸¢à¸‡à¸ˆà¸²à¸à¸¥à¹ˆà¸²à¸ªà¸¸à¸”)"}),f?(0,b.jsx)("p",{children:"â³ à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥..."}):(0,b.jsx)("div",{className:"table-wrapper",children:(0,b.jsxs)("table",{className:"history-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"à¸¥à¸³à¸”à¸±à¸š"}),(0,b.jsx)("th",{children:"à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™"}),(0,b.jsx)("th",{children:"à¸œà¸¹à¹‰à¸ˆà¸­à¸‡"}),(0,b.jsx)("th",{children:"à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸—à¸³à¸£à¸²à¸¢à¸à¸²à¸£"})]})}),(0,b.jsxs)("tbody",{children:[a.map((c,d)=>{var e;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.length-d}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"room-cell",children:[c.classrooms?.image_url&&(0,b.jsx)("img",{src:c.classrooms.image_url,alt:"room",className:"mini-thumb"}),(0,b.jsx)("span",{children:c.classrooms?.name||"à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸šà¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡"})]})}),(0,b.jsx)("td",{className:"student-name",children:c.student_name}),(0,b.jsx)("td",{className:"timestamp",children:(e=c.booking_time||c.created_at)?new Date(e).toLocaleString("th-TH",{dateStyle:"medium",timeStyle:"short"}):"-"})]},c.id)}),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,style:{textAlign:"center",padding:"20px"},children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ˆà¸­à¸‡à¸„à¸£à¸±à¸š"})})]})]})})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_history_page_tsx_42293090._.js.map
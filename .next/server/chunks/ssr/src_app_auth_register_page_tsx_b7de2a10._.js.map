{"version":3,"sources":["../../../../src/app/auth/register/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { supabase } from '@/utils/supabase';\r\nimport '../auth.css';\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    fullName: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleRegister = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    // --- ‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö (Debug) ---\r\n    // ‡∏ï‡∏±‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏ß‡∏£‡πå‡πÜ\r\n    const cleanEmail = formData.email.trim();\r\n    const cleanPassword = formData.password.trim();\r\n\r\n    // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á: ‡πÉ‡∏´‡πâ Alert ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏î‡∏π‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏≠‡∏ö‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏°\r\n    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏õ‡πá‡∏ô [ kalupae... ] (‡∏°‡∏µ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ‡πÉ‡∏ô‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö) ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà\r\n    if (!confirm(`‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•: [${cleanEmail}]\\n‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á?`)) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (cleanPassword !== formData.confirmPassword.trim()) {\r\n      alert('‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà clean ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡πÉ‡∏´‡πâ Supabase\r\n      const { data: authData, error: authError } = await supabase.auth.signUp({\r\n        email: cleanEmail,\r\n        password: cleanPassword,\r\n      });\r\n\r\n      if (authError) throw authError;\r\n\r\n      if (authData.user) {\r\n        const { error: profileError } = await supabase\r\n          .from('profiles')\r\n          .insert([\r\n            { \r\n              id: authData.user.id,\r\n              full_name: formData.fullName \r\n            }\r\n          ]);\r\n      }\r\n\r\n      alert('‚úÖ ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö');\r\n      router.push('/auth/login');\r\n\r\n    } catch (error: any) {\r\n      alert(`‚ùå ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"auth-container\">\r\n        <div className=\"auth-card\">\r\n          <h1>üïµÔ∏è‚Äç‚ôÇÔ∏è ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (Debug Mode)</h1>\r\n          <form onSubmit={handleRegister} className=\"auth-form\">\r\n            <div className=\"form-group\">\r\n              <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>\r\n              <input type=\"text\" name=\"fullName\" value={formData.fullName} onChange={handleChange} required />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>\r\n              <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>\r\n              <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>\r\n              <input type=\"password\" name=\"confirmPassword\" value={formData.confirmPassword} onChange={handleChange} required />\r\n            </div>\r\n            <button type=\"submit\" className=\"btn-auth\" disabled={loading}>\r\n              {loading ? '‚è≥...' : '‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å'}\r\n            </button>\r\n          </form>\r\n          <div className=\"auth-footer\">\r\n            <Link href=\"/auth/login\">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"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"}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-classroom-app/src/utils/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseKey) {\r\n  throw new Error('Supabase URL or Key is missing!');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey);"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-classroom-app/src/components/common/Navbar.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport './Navbar.css'; // ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏ï‡πà‡∏≠\r\n\r\nexport default function Navbar() {\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"container\">\r\n        <Link href=\"/\" className=\"logo\">\r\n          üìö ‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô\r\n        </Link>\r\n        <div className=\"menu\">\r\n          <Link href=\"/\" className=\"menu-item\">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</Link>\r\n          <Link href=\"/dashboard\" className=\"menu-item\">Dashboard</Link>\r\n          <Link href=\"/history\" className=\"nav-link\">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</Link>\r\n          <Link href=\"/auth/login\" className=\"btn-login\">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</Link>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;;;;AAGe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,0KAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAO;;;;;;8BAGhC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAY;;;;;;sCACrC,6LAAC,0KAAI;4BAAC,MAAK;4BAAa,WAAU;sCAAY;;;;;;sCAC9C,6LAAC,0KAAI;4BAAC,MAAK;4BAAW,WAAU;sCAAW;;;;;;sCAC3C,6LAAC,0KAAI;4BAAC,MAAK;4BAAc,WAAU;sCAAY;;;;;;;;;;;;;;;;;;;;;;;AAKzD;KAhBwB"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-classroom-app/src/app/history/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { supabase } from '@/utils/supabase';\r\nimport Navbar from '../../components/common/Navbar';\r\nimport './history.css';\r\n\r\nexport default function HistoryPage() {\r\n  const [bookings, setBookings] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchHistory = async () => {\r\n    try {\r\n      // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á bookings ‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÑ‡∏õ‡∏´‡∏≤‡∏ï‡∏≤‡∏£‡∏≤‡∏á classrooms ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢\r\n      // ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ï‡∏£‡∏á select: ‡πÄ‡∏£‡∏≤‡∏™‡∏±‡πà‡∏á classrooms(name) ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ Foreign Key ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà\r\n      const { data, error } = await supabase\r\n        .from('bookings')\r\n        .select('*, classrooms(name, image_url)')\r\n        .order('id', { ascending: false }); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÑ‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡∏™‡∏∏‡∏î\r\n\r\n      if (error) throw error;\r\n      setBookings(data || []);\r\n    } catch (error: any) {\r\n      console.error('Error fetching history:', error);\r\n      // alert(error.message); // ‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÜ\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '-';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString('th-TH', {\r\n      dateStyle: 'medium',\r\n      timeStyle: 'short',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <Navbar />\r\n      <div className=\"container history-container\">\r\n        <h1>üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h1>\r\n        <p>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</p>\r\n\r\n        {loading ? (\r\n          <p>‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>\r\n        ) : (\r\n          <div className=\"table-wrapper\">\r\n            <table className=\"history-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>\r\n                  <th>‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>\r\n                  <th>‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</th>\r\n                  <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {bookings.map((item, index) => (\r\n                  <tr key={item.id}>\r\n                    <td>{bookings.length - index}</td>\r\n                    <td>\r\n                      <div className=\"room-cell\">\r\n                        {/* ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• classrooms ‡πÑ‡∏´‡∏° (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÇ‡∏î‡∏ô‡∏•‡∏ö) */}\r\n                        {item.classrooms?.image_url && (\r\n                          <img src={item.classrooms.image_url} alt=\"room\" className=\"mini-thumb\" />\r\n                        )}\r\n                        <span>{item.classrooms?.name || '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"student-name\">{item.student_name}</td>\r\n                    <td className=\"timestamp\">{formatDate(item.booking_time || item.created_at)}</td>\r\n                  </tr>\r\n                ))}\r\n                \r\n                {bookings.length === 0 && (\r\n                  <tr>\r\n                    <td colSpan={4} style={{textAlign: 'center', padding: '20px'}}>\r\n                      ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI;YACF,kFAAkF;YAClF,qFAAqF;YACrF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uIAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,kCACP,KAAK,CAAC,MAAM;gBAAE,WAAW;YAAM,IAAI,0BAA0B;YAEhE,IAAI,OAAO,MAAM;YACjB,YAAY,QAAQ,EAAE;QACxB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,2BAA2B;QACzC,gDAAgD;QAClD,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;iCAAC;YACR;QACF;gCAAG,EAAE;IAEL,4CAA4C;IAC5C,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,YAAY,OAAO;QACxB,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,KAAK,cAAc,CAAC,SAAS;YAClC,WAAW;YACX,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC,oJAAM;;;;;0BACP,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCAAG;;;;;;kCACJ,6LAAC;kCAAE;;;;;;oBAEF,wBACC,6LAAC;kCAAE;;;;;6CAEH,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAM,WAAU;;8CACf,6LAAC;8CACC,cAAA,6LAAC;;0DACC,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;;;;;;;;;;;;8CAGR,6LAAC;;wCACE,SAAS,GAAG,CAAC,CAAC,MAAM,sBACnB,6LAAC;;kEACC,6LAAC;kEAAI,SAAS,MAAM,GAAG;;;;;;kEACvB,6LAAC;kEACC,cAAA,6LAAC;4DAAI,WAAU;;gEAEZ,KAAK,UAAU,EAAE,2BAChB,6LAAC;oEAAI,KAAK,KAAK,UAAU,CAAC,SAAS;oEAAE,KAAI;oEAAO,WAAU;;;;;;8EAE5D,6LAAC;8EAAM,KAAK,UAAU,EAAE,QAAQ;;;;;;;;;;;;;;;;;kEAGpC,6LAAC;wDAAG,WAAU;kEAAgB,KAAK,YAAY;;;;;;kEAC/C,6LAAC;wDAAG,WAAU;kEAAa,WAAW,KAAK,YAAY,IAAI,KAAK,UAAU;;;;;;;+CAZnE,KAAK,EAAE;;;;;wCAgBjB,SAAS,MAAM,KAAK,mBACnB,6LAAC;sDACC,cAAA,6LAAC;gDAAG,SAAS;gDAAG,OAAO;oDAAC,WAAW;oDAAU,SAAS;gDAAM;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYnF;GAzFwB;KAAA"}}]
}
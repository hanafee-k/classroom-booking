{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-classroom-app/src/utils/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseKey) {\r\n  throw new Error('Supabase URL or Key is missing!');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey);"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-classroom-app/src/app/admin/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react'; // ‡πÄ‡∏û‡∏¥‡πà‡∏° useEffect\r\nimport { supabase } from '@/utils/supabase';\r\nimport './admin.css';\r\n\r\nexport default function AdminPage() {\r\n  // --- ‡∏™‡πà‡∏ß‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á ---\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    capacity: '',\r\n    image_url: ''\r\n  });\r\n\r\n  // --- ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏ö) ---\r\n  const [classrooms, setClassrooms] = useState<any[]>([]);\r\n\r\n  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡πâ‡∏≠‡∏á (‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)\r\n  const fetchClassrooms = async () => {\r\n    const { data } = await supabase\r\n      .from('classrooms')\r\n      .select('*')\r\n      .order('id', { ascending: true });\r\n    \r\n    if (data) setClassrooms(data);\r\n  };\r\n\r\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤\r\n  useEffect(() => {\r\n    fetchClassrooms();\r\n  }, []);\r\n\r\n  const handleChange = (e: any) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô 1: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n    if (!formData.name || !formData.capacity) {\r\n      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏‡∏Ñ‡∏£‡∏±‡∏ö');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('classrooms')\r\n        .insert([{\r\n          name: formData.name,\r\n          capacity: parseInt(formData.capacity),\r\n          image_url: formData.image_url || null,\r\n          status: 'available'\r\n        }]);\r\n\r\n      if (error) throw error;\r\n\r\n      alert('‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');\r\n      setFormData({ name: '', capacity: '', image_url: '' }); // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ü‡∏≠‡∏£‡πå‡∏°\r\n      fetchClassrooms(); // ‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà\r\n\r\n    } catch (error: any) {\r\n      alert(`Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô 2: ‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á (New!)\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏µ‡πâ? (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞)')) return;\r\n\r\n    try {\r\n      // ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô (Foreign Key constraint)\r\n      await supabase.from('bookings').delete().eq('room_id', id);\r\n\r\n      // ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á\r\n      const { error } = await supabase.from('classrooms').delete().eq('id', id);\r\n\r\n      if (error) throw error;\r\n\r\n      alert('‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üëã');\r\n      fetchClassrooms(); // ‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà\r\n\r\n    } catch (error: any) {\r\n      alert(`‡∏•‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"container admin-container\">\r\n        <h1>üõ†Ô∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Admin)</h1>\r\n        \r\n        {/* --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á --- */}\r\n        <section className=\"admin-section\">\r\n          <h3>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</h3>\r\n          <form className=\"admin-form\" onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>\r\n              <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á...\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏</label>\r\n              <input type=\"number\" name=\"capacity\" value={formData.capacity} onChange={handleChange} placeholder=\"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô...\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (URL)</label>\r\n              <input type=\"text\" name=\"image_url\" value={formData.image_url} onChange={handleChange} placeholder=\"https://...\" />\r\n            </div>\r\n            <button type=\"submit\" className=\"btn-submit\">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>\r\n          </form>\r\n        </section>\r\n\r\n        <hr className=\"divider\" />\r\n\r\n        {/* --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà --- */}\r\n        <section className=\"admin-section\">\r\n          <h3>üìã ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ({classrooms.length})</h3>\r\n          <div className=\"table-responsive\">\r\n            <table className=\"admin-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á</th>\r\n                  <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏</th>\r\n                  <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>\r\n                  <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {classrooms.map((room) => (\r\n                  <tr key={room.id}>\r\n                    <td>{room.id}</td>\r\n                    <td>{room.name}</td>\r\n                    <td>{room.capacity}</td>\r\n                    <td>\r\n                      <span className={room.status === 'busy' ? 'text-red' : 'text-green'}>\r\n                        {room.status}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <button className=\"btn-delete\" onClick={() => handleDelete(room.id)}>\r\n                        ‡∏•‡∏ö üóëÔ∏è\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}
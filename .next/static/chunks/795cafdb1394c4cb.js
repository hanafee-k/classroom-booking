(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77582,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(1513);function i(){let[e,i]=(0,t.useState)([]),[l,a]=(0,t.useState)(!0),n=async()=>{try{let{data:e,error:s}=await r.supabase.from("bookings").select("*, classrooms(name, image_url)").order("id",{ascending:!1});if(s)throw s;i(e||[])}catch(e){console.error("Error fetching history:",e)}finally{a(!1)}};return(0,t.useEffect)(()=>{n()},[]),(0,s.jsx)("main",{children:(0,s.jsxs)("div",{className:"container history-container",children:[(0,s.jsx)("h1",{children:"ðŸ“œ à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ˆà¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,s.jsx)("p",{children:"à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸°à¸šà¸š (à¹€à¸£à¸µà¸¢à¸‡à¸ˆà¸²à¸à¸¥à¹ˆà¸²à¸ªà¸¸à¸”)"}),l?(0,s.jsx)("p",{children:"â³ à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥..."}):(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"history-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"à¸¥à¸³à¸”à¸±à¸š"}),(0,s.jsx)("th",{children:"à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™"}),(0,s.jsx)("th",{children:"à¸œà¸¹à¹‰à¸ˆà¸­à¸‡"}),(0,s.jsx)("th",{children:"à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸—à¸³à¸£à¸²à¸¢à¸à¸²à¸£"})]})}),(0,s.jsxs)("tbody",{children:[e.map((t,r)=>{var i;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.length-r}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"room-cell",children:[t.classrooms?.image_url&&(0,s.jsx)("img",{src:t.classrooms.image_url,alt:"room",className:"mini-thumb"}),(0,s.jsx)("span",{children:t.classrooms?.name||"à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸šà¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡"})]})}),(0,s.jsx)("td",{className:"student-name",children:t.student_name}),(0,s.jsx)("td",{className:"timestamp",children:(i=t.booking_time||t.created_at)?new Date(i).toLocaleString("th-TH",{dateStyle:"medium",timeStyle:"short"}):"-"})]},t.id)}),0===e.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,style:{textAlign:"center",padding:"20px"},children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ˆà¸­à¸‡à¸„à¸£à¸±à¸š"})})]})]})})]})})}e.s(["default",()=>i])}]);
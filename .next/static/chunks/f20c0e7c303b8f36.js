(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72906,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(1513);function i(){let[e,i]=(0,s.useState)({name:"",capacity:"",image_url:""}),[r,l]=(0,s.useState)([]),n=async()=>{let{data:e}=await t.supabase.from("classrooms").select("*").order("id",{ascending:!0});e&&l(e)};(0,s.useEffect)(()=>{n()},[]);let c=a=>{i({...e,[a.target.name]:a.target.value})},d=async a=>{if(a.preventDefault(),!e.name||!e.capacity)return void alert("à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸ˆà¸¸à¸„à¸£à¸±à¸š");try{let{error:a}=await t.supabase.from("classrooms").insert([{name:e.name,capacity:parseInt(e.capacity),image_url:e.image_url||null,status:"available"}]);if(a)throw a;alert("âœ… à¹€à¸žà¸´à¹ˆà¸¡à¸«à¹‰à¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!"),i({name:"",capacity:"",image_url:""}),n()}catch(e){alert(`Error: ${e.message}`)}},m=async e=>{if(confirm("à¸¢à¸·à¸™à¸¢à¸±à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¸¥à¸šà¸«à¹‰à¸­à¸‡à¸™à¸µà¹‰? (à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ˆà¸­à¸‡à¸ˆà¸°à¸«à¸²à¸¢à¹„à¸›à¸”à¹‰à¸§à¸¢à¸™à¸°)"))try{await t.supabase.from("bookings").delete().eq("room_id",e);let{error:a}=await t.supabase.from("classrooms").delete().eq("id",e);if(a)throw a;alert("à¸¥à¸šà¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¸„à¸£à¸±à¸š ðŸ‘‹"),n()}catch(e){alert(`à¸¥à¸šà¹„à¸¡à¹ˆà¹„à¸”à¹‰: ${e.message}`)}};return(0,a.jsx)("main",{children:(0,a.jsxs)("div",{className:"container admin-container",children:[(0,a.jsx)("h1",{children:"ðŸ› ï¸ à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™ (Admin)"}),(0,a.jsxs)("section",{className:"admin-section",children:[(0,a.jsx)("h3",{children:"âž• à¹€à¸žà¸´à¹ˆà¸¡à¸«à¹‰à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ"}),(0,a.jsxs)("form",{className:"admin-form",onSubmit:d,children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{children:"à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™"}),(0,a.jsx)("input",{type:"text",name:"name",value:e.name,onChange:c,placeholder:"à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡..."})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{children:"à¸„à¸§à¸²à¸¡à¸ˆà¸¸"}),(0,a.jsx)("input",{type:"number",name:"capacity",value:e.capacity,onChange:c,placeholder:"à¸ˆà¸³à¸™à¸§à¸™à¸„à¸™..."})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{children:"à¸£à¸¹à¸›à¸ à¸²à¸ž (URL)"}),(0,a.jsx)("input",{type:"text",name:"image_url",value:e.image_url,onChange:c,placeholder:"https://..."})]}),(0,a.jsx)("button",{type:"submit",className:"btn-submit",children:"à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"})]})]}),(0,a.jsx)("hr",{className:"divider"}),(0,a.jsxs)("section",{className:"admin-section",children:[(0,a.jsxs)("h3",{children:["ðŸ“‹ à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (",r.length,")"]}),(0,a.jsx)("div",{className:"table-responsive",children:(0,a.jsxs)("table",{className:"admin-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"ID"}),(0,a.jsx)("th",{children:"à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡"}),(0,a.jsx)("th",{children:"à¸„à¸§à¸²à¸¡à¸ˆà¸¸"}),(0,a.jsx)("th",{children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,a.jsx)("th",{children:"à¸ˆà¸±à¸”à¸à¸²à¸£"})]})}),(0,a.jsx)("tbody",{children:r.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.id}),(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.capacity}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"busy"===e.status?"text-red":"text-green",children:e.status})}),(0,a.jsx)("td",{children:(0,a.jsx)("button",{className:"btn-delete",onClick:()=>m(e.id),children:"à¸¥à¸š ðŸ—‘ï¸"})})]},e.id))})]})})]})]})})}e.s(["default",()=>i])}]);
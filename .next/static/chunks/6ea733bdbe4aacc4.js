(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30257,s=>{"use strict";var a=s.i(43476),e=s.i(71645),r=s.i(1513);function t(){let[s,t]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0),l=async()=>{try{let{data:s,error:a}=await r.supabase.from("classrooms").select("*").order("id",{ascending:!0});if(a)throw a;s&&t(s)}catch(s){console.error("Error:",s)}finally{o(!1)}};(0,e.useEffect)(()=>{l()},[]);let c=async s=>{let a=window.prompt(`à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡ "${s.name}"
à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡à¸„à¸¸à¸“:`);if(a)try{await r.supabase.from("bookings").insert([{room_id:s.id,student_name:a}]);let{error:e}=await r.supabase.from("classrooms").update({status:"busy",booked_by:a}).eq("id",s.id);if(e)throw e;alert("âœ… à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!"),l()}catch(s){alert(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${s.message}`)}},n=async s=>{if(confirm(`à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸„à¸·à¸™à¸«à¹‰à¸­à¸‡ ${s.name} à¹ƒà¸Šà¹ˆà¹„à¸«à¸¡?`))try{let{error:a}=await r.supabase.from("classrooms").update({status:"available",booked_by:null}).eq("id",s.id);if(a)throw a;alert("ðŸ‘Œ à¸„à¸·à¸™à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!"),l()}catch(s){alert(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${s.message}`)}};return(0,a.jsx)("main",{children:(0,a.jsxs)("div",{className:"container dashboard-container",children:[(0,a.jsxs)("header",{className:"dashboard-header",children:[(0,a.jsx)("h1",{children:"ðŸ« à¸£à¸²à¸¢à¸à¸²à¸£à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™"}),(0,a.jsx)("p",{children:"à¸£à¸°à¸šà¸šà¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™à¹à¸šà¸š Real-time"})]}),i?(0,a.jsx)("p",{className:"loading-text",children:"â³ à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥..."}):(0,a.jsx)("div",{className:"room-grid",children:s.map(s=>(0,a.jsxs)("div",{className:"room-card",children:[(0,a.jsxs)("div",{className:"room-image",children:[(0,a.jsx)("img",{src:s.image_url||"https://placehold.co/600x400?text=No+Image",alt:s.name}),(0,a.jsx)("span",{className:`status-badge ${s.status}`,children:"available"===s.status?"à¸§à¹ˆà¸²à¸‡":"à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸‡"})]}),(0,a.jsxs)("div",{className:"room-info",children:[(0,a.jsx)("h3",{children:s.name}),(0,a.jsxs)("p",{children:["ðŸ‘¥ à¸£à¸­à¸‡à¸£à¸±à¸š: ",s.capacity," à¸„à¸™"]}),"busy"===s.status&&s.booked_by&&(0,a.jsxs)("div",{className:"booker-info",children:["ðŸ”’ à¸ˆà¸­à¸‡à¹‚à¸”à¸¢: ",(0,a.jsx)("strong",{children:s.booked_by})]}),"available"===s.status?(0,a.jsx)("button",{className:"btn-book",onClick:()=>c(s),children:"à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¸™à¸µà¹‰ âœ…"}):(0,a.jsx)("button",{className:"btn-cancel",onClick:()=>n(s),children:"à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸ˆà¸­à¸‡ âŒ"})]})]},s.id))})]})})}s.s(["default",()=>t])}]);